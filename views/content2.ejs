<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Content 2</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="icon" href="/Images/logo.png">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
    <style>
        #nextbtn {
            background-color: rgb(219, 219, 219);
            border: none;
            transition-duration: 0.4s;
        }

        #nextbtn:hover {
            background-color: #343a40;
            color: white;
            transition-duration: 0.4s;
        }

        #tags:focus{
            outline: none;
            box-shadow: none;
        }

        .format {
            border-radius: 0px;
        }

        @media screen and (max-width:336px){
            #experience{
                margin-top: 4px;
            }
        }
    </style>
</head>

<body style="background-color:gray;">
    <div class="container">
        <div class="row">
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col-12">
                <div class="row">
                    <div class="col-12">
                        <center>
                            <img src="/Images/logo.png" width="200" height="200" class="img-fluid" id="logo">
                        </center>
                    </div>
                </div>
                <div class="row">
                    <div style="color:white;" class="mt-4 col-xl-12 col-lg-12 col-md-12 col-sm-12 d-none d-sm-block" id="Quotes">
                        <center>
                            <p><i>“Create the highest, grandest vision possible for your life, because you become what
                                    you believe”</i></p><br>
                            <p><i>“When you can’t find the sunshine, be the sunshine”</i></p><br>
                            <p><i>“The grass is greener where you water it”</i></p><br>
                            <p><i>"Wherever life plants you, bloom with grace”</i></p>
                        </center>
                    </div>
                </div>
            </div>
            <div class="offset-xl-2 col-xl-7 col-lg-9 col-md-9 col-sm-9 col-12">
                <center>
                    <div class="mt-4 mb-4">
                    <button type="button" class="btn btn-dark format px-1 px-sm-2 px-md-3" id="story"
                        onclick="change(this.id);">Story</button>
                    <button type="button" class="btn btn-dark format ml-sm-1 px-1 px-sm-2 px-md-3" id="poem"
                        onclick="change(this.id);">Poem</button>
                    <button type="button" class="btn btn-dark format ml-sm-1 px-1 px-sm-2 px-md-3" id="blog"
                        onclick="change(this.id);">Blog</button>
                    <button type="button" class="btn btn-dark format ml-sm-1 px-1 px-sm-2 px-md-3" id="experience"
                        onclick="change(this.id);">Scribbled
                        Experience</button>
                    </div>
                </center>
                <div style="background-image:linear-gradient(rgb(184, 184, 184), white, rgb(184, 184, 184));">
                    <div id="toolbar"></div>
                    <div style="height: 330px" id="editor"></div>
                </div>
                <div class="mt-4" class="form-group">
                    <input style="border-radius:0px; border:none;" type="text" id="tags" class="form-control"
                        placeholder="tags">
                </div>
                <button onclick="get();  location.href='/nextpage';"  id="nextbtn" class="px-4 pt-1 pb-2 mt-4 mb-3 mb-sm-0" style="float: right" name="upvote">Next &raquo;</button> 
            </div>
        </div>
    </div>

    <script>
        var types = document.getElementsByClassName('format');

        function change(e) {
            for (var i = 0; i < types.length; ++i) {
                types.item(i).style.backgroundColor = '#343a40';
            }

            document.getElementById(e).style.backgroundColor = 'red';
        }

        var toolbarOptions1 = [
            [{ 'size': ['small', false, 'large'] }],
            ['bold', 'italic'],
            [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }],
            [{ 'indent': '-1' }, { 'indent': '+1' }]
        ];

        var toolbarOptions2 = [
        [{ 'size': ['small', false, 'large'] }],
            ['bold', 'italic'],
            [{ 'align': [] }],
            [{ 'indent': '-1' }, { 'indent': '+1' }]
        ]

        var editor = new Quill('#editor', {
            modules: {
                toolbar: (screen.width >= 402) ?  toolbarOptions1 : toolbarOptions2
            },
            placeholder: 'Write here...',
            theme: 'snow'
        });

        
        function get(){
            console.log(editor.getContents());
            localStorage.setItem('data', JSON.stringify(editor.getContents()));
        }

        function play() {
            const len = editor.getLength();
            const text = editor.getText(0, len);
            console.log(editor.getContents());
            const gText = editor.getContents();
            const contents = {
                        "ops": [
                            {
                                "insert": "Gandalf the Grey\n"
                            }
                        ]}
            let container = document.querySelector('#editor');
            container.innerHtml = JSON.stringify(contents,undefined,2);
            editor.setContents(gText['ops']);
        }

        
    </script>
</body>

</html>